<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Treebarn Store</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f8f9fa;
      color: #333;
    }
    header {
      background: #1e90ff;
      color: white;
      padding: 2rem 1rem;
      text-align: center;
    }
    header a {
      color: white;
      text-decoration: underline;
    }
    .container {
      max-width: 1000px;
      margin: auto;
      padding: 1rem;
    }
    .products {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1rem;
      margin: 2rem 0;
    }
    .product {
      background: white;
      padding: 1rem;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      text-align: center;
    }
    .price {
      font-size: 1.2rem;
      color: #28a745;
      margin: 0.5rem 0;
    }
    form {
      background: white;
      padding: 2rem;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }
    form input, form textarea, form button, form select {
      width: 100%;
      padding: 0.8rem;
      margin: 0.5rem 0 1rem;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    form button {
      background: #1e90ff;
      color: white;
      border: none;
      cursor: pointer;
    }
    #order-summary {
      background: white;
      padding: 2rem;
      margin-top: 2rem;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }
    #copy-btn {
      margin-top: 1rem;
      padding: 0.8rem;
      border: none;
      border-radius: 4px;
      background: #28a745;
      color: white;
      cursor: pointer;
    }
    footer {
      text-align: center;
      padding: 1rem;
      font-size: 0.9rem;
      background: #f1f1f1;
      margin-top: 3rem;
    }
  </style>
</head>
<body>

  <header>
    <h1>Welcome to My Store</h1>
    <p>High quality items at great prices. Shop now!</p>
    <a href="https://treebeard888.github.io/Treebarn/" style="font-size:150%;">Home</a>
  </header>

  <div class="container">
    <!-- Product Cards -->
    <section class="products">
      <div class="product"><h3>Set Colour Turtle</h3><p>Pick your colours for a custom turtle.</p><p class="price">£3</p></div>
      <div class="product"><h3>Set Colour Bee</h3><p>Pick your colours for a custom bee.</p><p class="price">£3</p></div>
      <div class="product"><h3>Random Turtle</h3><p>A turtle of 2 random colours.</p><p class="price">£2</p></div>
      <div class="product"><h3>10 Turtle Lucky Bag</h3><p>10 random turtles, good for resale. May take longer.</p><p class="price">£18</p></div>
      <div class="product"><h3>Random Bee</h3><p>A bee of 2 random colours.</p><p class="price">£2</p></div>
      <div class="product"><h3>10 Bee Lucky Bag</h3><p>10 random bees, good for resale. May take longer.</p><p class="price">£18</p></div>
    </section>

    <!-- Order Form -->
    <section>
      <h2>Order Now</h2>
      <p>Once the form is submitted, copy the information into the contact section on my homepage.</p>

      <form id="order-form">
        <label for="product">Select Product:</label>
        <select name="product" id="product" required>
          <option value="">-- Choose a product --</option>
          <option value="Set Colour Turtle" data-price="3">Set Colour Turtle - £3</option>
          <option value="Random Turtle" data-price="2">Random Turtle - £2</option>
          <option value="10 Turtle Lucky Bag" data-price="18">10 Turtle Lucky Bag - £18</option>
          <option value="Set Colour Bee" data-price="3">Set Colour Bee - £3</option>
          <option value="Random Bee" data-price="2">Random Bee - £2</option>
          <option value="10 Bee Lucky Bag" data-price="18">10 Bee Lucky Bag - £18</option>
        </select>

        <!-- Colour selectors (hidden by default) -->
        <div id="colour-options" style="display:none;">
          <h4>Choose Colours</h4>
          <label for="base-colour">Base Colour:</label>
          <select id="base-colour"></select>

          <label for="secondary-colour">Secondary Colour:</label>
          <select id="secondary-colour"></select>
        </div>

        <p><strong>Total Price: £<span id="total-price">0</span></strong></p>

        <label for="name">Your Name:</label>
        <input type="text" id="name" placeholder="Your Name" required minlength="2" />

        <label for="email">Your Email:</label>
        <input type="email" id="email" placeholder="Your Email" required />

        <label for="address">Shipping Address:</label>
        <textarea id="address" rows="4" placeholder="Shipping Address" required minlength="5"></textarea>

        <button type="submit">Place Order</button>
      </form>

      <!-- Order Summary -->
      <div id="order-summary" style="display:none;"></div>
      <button id="copy-btn" style="display:none;">Copy Order Details</button>
    </section>
  </div>

  <footer>
    <p>&copy; 2025 Treebarn Store</p>
  </footer>

  <script>
    const productSelect = document.getElementById("product");
    const colourOptions = document.getElementById("colour-options");
    const baseSelect = document.getElementById("base-colour");
    const secondarySelect = document.getElementById("secondary-colour");
    const priceEl = document.getElementById("total-price");
    const summaryBox = document.getElementById("order-summary");
    const copyBtn = document.getElementById("copy-btn");

    const colours = [
      "Red","Brown-Orange","Orange","Peach","Golden Yellow","Yellow",
      "Mint","Light Green","Green","Dark Green","Turquoise","Light Blue",
      "Blue","Baby Blue","Dusky Blue","Dark Blue","Pink","Dark Pink",
      "Peach Pink","Light Pink","Magenta","Dark Purple","White","Cream",
      "Grey","Black","Glow in the Dark (+£2)"
    ];

    function fillColourSelect(selectEl) {
      selectEl.innerHTML = "";
      colours.forEach(c => {
        const opt = document.createElement("option");
        opt.value = c;
        opt.textContent = c;
        selectEl.appendChild(opt);
      });
    }
    fillColourSelect(baseSelect);
    fillColourSelect(secondarySelect);

    function calculatePrice() {
      if (!productSelect.value) return 0;
      let basePrice = parseFloat(productSelect.selectedOptions[0]?.dataset.price || 0);
      let extra = 0;
      if (colourOptions.style.display === "block") {
        if (baseSelect.value.includes("Glow in the Dark")) extra += 2;
        if (secondarySelect.value.includes("Glow in the Dark")) extra += 2;
      }
      return basePrice + extra;
    }

    function updatePrice() {
      priceEl.textContent = calculatePrice();
    }

    productSelect.addEventListener("change", () => {
      if (["Set Colour Turtle","Set Colour Bee"].includes(productSelect.value)) {
        colourOptions.style.display = "block";
      } else {
        colourOptions.style.display = "none";
      }
      updatePrice();
    });

    baseSelect.addEventListener("change", updatePrice);
    secondarySelect.addEventListener("change", updatePrice);

    document.getElementById("order-form").addEventListener("submit", function (e) {
      e.preventDefault();

      const product = productSelect.value;
      const name = document.getElementById("name").value;
      const email = document.getElementById("email").value;
      const address = document.getElementById("address").value;
      const totalPrice = calculatePrice();

      let summaryHTML = `
        <h3>Thank you for your order, ${name}!</h3>
        <p><strong>Product:</strong> ${product}</p>
      `;

      if (["Set Colour Turtle","Set Colour Bee"].includes(product)) {
        summaryHTML += `
          <p><strong>Base Colour:</strong> ${baseSelect.value}</p>
          <p><strong>Secondary Colour:</strong> ${secondarySelect.value}</p>
        `;
      }

      summaryHTML += `
        <p><strong>Email:</strong> ${email}</p>
        <p><strong>Shipping Address:</strong><br>${address.replace(/(\r\n|\n|\r)/g, "<br>")}</p>
        <p><strong>Total Price:</strong> £${totalPrice}</p>
      `;

      document.getElementById("order-form").style.display = "none";
      summaryBox.innerHTML = summaryHTML;
      summaryBox.style.display = "block";
      copyBtn.style.display = "inline-block";
    });

    copyBtn.addEventListener("click", () => {
      const text = summaryBox.innerText;
      navigator.clipboard.writeText(text).then(() => {
        copyBtn.textContent = "Copied!";
        setTimeout(() => copyBtn.textContent = "Copy Order Details", 2000);
      });
    });

    updatePrice();
  </script>
</body>
</html>
